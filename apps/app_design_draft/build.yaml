# build.yaml
targets:
  $default:
    sources:
      include:
        - lib/**
        - web/**
        - pubspec.yaml
        - lib/$lib$
        - $package$
        - .env
      exclude:
        - "lib/**/*.g.dart"
        - "build/**"
        - ".dart_tool/**"
        - "linux/**"
        - "windows/**"
        - "macos/**"
        - "ios/**"
        - "android/**"
        - "test/**"
        - ".git/**"
        - "**/.*"
    builders:
      # drift_dev:
      #   options:
      #     use_sql_column_name_as_json_key : true
      #     databases:
      #       default: lib/config/drift/drift_configuration.dart
      #     sql:
      #       dialect: sqlite
      #       options:
      #         version: "3.38"
      #         modules: [fts5]
      # build_web_compilers:entrypoint:
      #   generate_for:
      #     - web/worker.dart
      #   options:
      #     compiler: dart2js
      # reflectable|reflectable:
      #   enabled: false
      envied_generator|envied:
        generate_for:
          - lib/config/env/**.dart
        options:
          # path: .env.custom
          override: true
  # copy_js:
  #   auto_apply_builders: false
  #   dependencies: [$default]
  #   builders:
  #     ":copy_compiled_worker_js":
  #       enabled: true
# builders:
#   copy_compiled_worker_js:
#     import: "tool/builder.dart"
#     builder_factories: ["CopyCompiledJs.new"]
#     build_to: source
#     build_extensions: { "web/worker.dart.js": ["web/drift_worker.js"] }
